<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no"/>
</head>
<style>
    body{margin: 0;padding: 0;height: 100vh;}

    #target{
        width: 30vw;
        height: 30vw;
        border-radius: 50%;
        background: red;
        text-align: center;
        line-height: 30vw;
        margin: 0 auto;
    }
</style>
<body>
    <div id="target">11111</div>
</body>
<script src="touch.js"></script>
<script>

	   
//      var angle = 0;
//      touch.on('#target', 'touchstart', function(ev) {
//          ev.startRotate();
//          ev.preventDefault();
//      });
//      touch.on('#target', 'rotate', function(ev) {
//          var totalAngle = angle + ev.rotation;
//          if (ev.fingerStatus === 'end') { //这一句很重要
//              angle = angle + ev.rotation;
////              $('.div1').text("本次旋转角度为:" + ev.rotation + "度, 方向:" + ev.direction + ".");
//          }
//          this.style.webkitTransform = 'rotate(' + totalAngle + 'deg)';
//          if(totalAngle==180){
//          	console.log('kakaak')
//          }
//      });


       
//          touch.on('#target', 'touchstart', function(ev){
//             ev.preventDefault();
//          });
//          touch.on('#target', 'hold tap doubletap', function(ev) {
//              console.log("当前事件为: " + ev.type);
//          });




//          touch.on('#target', 'touchstart', function(ev) {
//              ev.preventDefault();
//          });
//          var target = document.getElementById("target");
//          target.style.webkitTransition = 'all ease 0.2s';
//          
//          touch.on(target, 'swiperight', function(ev) {
//              this.style.webkitTransform = "translate3d(" + 100 + "px,0,0)";
//          });
//          touch.on(target, 'swipeleft', function(ev) {
//              this.style.webkitTransform = "translate3d(-" + 100 + "px,0,0)";
//          });

			/*var target = document.getElementById("target");
        	var dx, dy;
            touch.on('#target', 'drag', function(ev) {
                dx = dx || 0;
                dy = dy || 0;
                var offx = dx + ev.x + "px";
            	var offy = dy + ev.y + "px";
                this.style.webkitTransform = "translate3d(" + offx + "," + offy + ",0)";
            });
            touch.on('#target', 'dragend', function(ev) {
                dx += ev.x;
                dy += ev.y;
               console.log("当前x值为:" + dx + ", 当前y值为:" + dy + ".");
            });*/
          	
          	var target = document.getElementById("target");
            target.style.webkitTransition = 'all ease 0.05s';
            touch.on('#target', 'touchstart', function(ev) {
                ev.preventDefault();
            });
            var initialScale = 1;
            var currentScale;
            touch.on('#target', 'pinchend', function(ev) {
            	console.log(1)
                currentScale = ev.scale - 1;
                currentScale = initialScale + currentScale;
                currentScale = currentScale > 5 ? 5 : currentScale; //自己调节可以放大的最大倍数
                currentScale = currentScale < 0.1 ? 0.1 : currentScale; //自己调节可以缩小的最小倍数
                this.style.webkitTransform = 'scale(' + currentScale + ')';
//              $('.div1').text("当前缩放比例为:" + currentScale + "倍.");
            });
//          touch.on('#target', 'pinchend', function(ev) {
//              initialScale = currentScale;
//          });

</script>
</html>